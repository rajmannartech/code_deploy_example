<!doctype html>
<html>
<title> Matching Game </title>
<head>
<style type="text/css">
	img {
		position: absolute;
	}
	div {
		position: absolute;
		display: inline-block;
		width: 500px;
		height: 500px;
	}
	#rightSide {
		border-left: 1px solid black;
		left: 500px;
	}
</style>

<script type="text/javascript">


function generateFaces(lside,rside,numberOfFaces) {

    var lfpx,tppx;
	var smileyimage; var c=0;
	
	//lside=document.getElementById("leftSide");
	//rside=document.getElementById("leftSideClone");
	
	for(var i=0; i<numberOfFaces;i++){
		var top,left;
		smileyimage=document.createElement("img");
		smileyimage.setAttribute("src","http://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png");

		left=Math.random()*300;
		left=Math.floor(left)+1;
	    top=Math.random()*200;
		top=Math.floor(top)+1;
		leftpx=left+"px";
		toppx=top+"px";
	
		smileyimage.style.left=leftpx;
		smileyimage.style.top=toppx;
		lside.appendChild(smileyimage);
	}
	
	
	leftSideImages=lside.cloneNode(true);
	leftSideImages.removeChild(leftSideImages.lastChild);
	rside.appendChild(leftSideImages);

	lside.lastChild.onclick=function nextLevel(event){
		event.stopPropagation();
		while (lside.firstChild) {
			lside.removeChild(lside.firstChild);
		}
		while (rside.firstChild) {
			rside.removeChild(rside.firstChild);
		}
		numberOfFaces += 5;
		generateFaces(lside,rside, numberOfFaces);
		
	}
	
	var theBody = document.getElementsByTagName("body")[0];
	theBody.onclick = function gameOver() {
      alert("Game Over!");
      theBody.onclick = null;
      //lside.lastChild.onclick = null;
    }
	
	
}

function play_game() {
	var numberOffaces=5;
	var theleftside=document.getElementById("leftSide");
	var therightside=document.getElementById("leftSideClone");
	generateFaces(theleftside,therightside, numberOffaces);
	
}
</script>


</head>
<body onload="play_game()">
<h2> <b> Matching Game </b> </h2>
<p> Click on the extra smiling face on the left </p>
<div id="leftSide"></div>
<div id="rightSide">
	<div id="leftSideClone"></div>
</div>

</body>
</html>
